(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(231)},230:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(27),o=a.n(l),i=a(47),c=a(48),s=a(55),u=a(49),m=a(56),d=a(20),h=a(2),p=a(26),b=[{deviceId:"device1",timestamp:new Date("2019-03-12T19:18:46+02:00"),Temperature:26.3,Humidity:35.24}],f=a(90),y=a(92),g=a.n(y),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).chartReference={},a.timeData=[],a.temperatureData=[],a.humidityData=[],a.data={labels:a.timeData,datasets:[{fill:!1,label:"Temperature",yAxisID:"Temperature",borderColor:"rgba(255, 204, 0, 1)",pointBoarderColor:"rgba(255, 204, 0, 1)",backgroundColor:"rgba(255, 204, 0, 0.4)",pointHoverBackgroundColor:"rgba(255, 204, 0, 1)",pointHoverBorderColor:"rgba(255, 204, 0, 1)",data:a.temperatureData},{fill:!1,label:"Humidity",yAxisID:"Humidity",borderColor:"rgba(24, 120, 240, 1)",pointBoarderColor:"rgba(24, 120, 240, 1)",backgroundColor:"rgba(24, 120, 240, 0.4)",pointHoverBackgroundColor:"rgba(24, 120, 240, 1)",pointHoverBorderColor:"rgba(24, 120, 240, 1)",data:a.humidityData}]},a.basicOptions={title:{display:!0,text:"Temperature & Humidity Real-time Data",fontSize:36},scales:{yAxes:[{id:"Temperature",type:"linear",scaleLabel:{labelString:"Temperature(C)",display:!0},position:"left"},{id:"Humidity",type:"linear",scaleLabel:{labelString:"Humidity(%)",display:!0},position:"right"}]}},b.forEach(function(e){a.timeData.push(e.Timestamp),a.temperatureData.push(e.Temperature),a.humidityData.push(e.Humidity)}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleData",value:function(e){console.log("receive message"+e);try{var t=JSON.parse(e);if(!t.timestamp||!t.Temperature)return;this.timeData.push(t.timestamp),this.temperatureData.push(t.Temperature);this.timeData.length>10&&(this.timeData.shift(),this.temperatureData.shift()),t.Humidity&&this.humidityData.push(t.Humidity),this.humidityData.length>10&&this.humidityData.shift(),this.chartReference.chartInstance.update()}catch(a){console.error(a)}}},{key:"handleOpen",value:function(){console.log("connected:)")}},{key:"handleClose",value:function(){console.log("disconnected:(")}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,{url:"wss://iotmanager.azurewebsites.net",onOpen:this.handleOpen,onClose:this.handleClose,reconnect:!0,debug:!0,onMessage:this.handleData.bind(this)}),r.a.createElement(f.a,{ref:function(t){return e.chartReference=t},data:this.data,width:1200,height:600,options:this.basicOptions}))}}]),t}(n.Component),k=a(236),D=a(107),v=a(239),C=a(237),O=a(238),j=function(e){var t=e.selectedPokemon,a=r.a.createElement(d.a,null,r.a.createElement(p.b,{to:"/"},r.a.createElement(D.a,null,"Go Back")));return t?r.a.createElement(d.a,null,a,r.a.createElement(d.a,null,r.a.createElement(D.a,null,"#".concat(t.number))),r.a.createElement(d.a,null,r.a.createElement(D.a,null,"Name: ".concat(t.name))),r.a.createElement(d.a,null,r.a.createElement(D.a,null,"Type: ".concat(t.type))),r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{width:50,height:50},source:{uri:t.photoUrl}})),"web"!==C.a.OS&&r.a.createElement(d.a,null,r.a.createElement(O.a,{title:"Share",onPress:function(){k.a.share({message:"Check out my favorite pokemon",url:e.selectedPokemon.photoUrl})}}))):r.a.createElement(d.a,null,a,r.a.createElement(D.a,null,"No Pokemon Selected"))},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedPokemon:null},a.selectPokemon=function(e){a.setState({selectedPokemon:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{style:H.container},r.a.createElement(p.a,null,r.a.createElement(p.d,null,r.a.createElement(p.c,{exact:!0,path:"/",render:function(t){return r.a.createElement(E,Object.assign({},t,{selectPokemon:e.selectPokemon}))}}),r.a.createElement(p.c,{exact:!0,path:"/pokemon",render:function(t){return r.a.createElement(j,Object.assign({selectedPokemon:e.state.selectedPokemon},t))}}))))}}]),t}(r.a.Component),H=h.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",marginTop:50,padding:50}});a(230);o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.556eda29.chunk.js.map